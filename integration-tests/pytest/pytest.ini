[pytest]
# Python path for imports
pythonpath = tests tests/lib

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# pytest-bdd settings
bdd_features_base_dir = tests/features

# Markers for test filtering (equivalent to Robot tags)
markers =
    smoke: Quick smoke tests
    crud: Key-Value store CRUD tests
    ha: High availability tests
    exceeding_limit_size: Large value handling tests
    leader_node_deleted: Leader deletion tests
    backup: Backup and restore tests
    full_backup: Full backup tests
    granular_backup: Granular backup tests
    backup_eviction: Backup eviction tests
    unauthorized_access: Auth tests
    full_backup_s3: S3 full backup tests
    granular_backup_s3: S3 granular backup tests
    s3_storage: S3 storage tests
    alerts: Prometheus alert tests
    consul_does_not_exist_alert: ConsulDoesNotExist alert tests
    consul_is_degraded_alert: ConsulIsDegraded alert tests
    consul_is_down_alert: ConsulIsDown alert tests
    consul_images: Image verification tests

# Output settings
addopts = 
    -v
    --tb=short
    --strict-markers

# Timeouts
timeout = 600

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Console output
console_output_style = progress


